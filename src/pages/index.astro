---
import Welcome from '../components/Welcome.astro';
import Layout from '../layouts/Layout.astro';
import PageSection from "../layouts/PageSection.astro"
import MainBackdrop from "../components/MainBackdrop/index.astro"

// Welcome to Astro! Wondering what to do next? Check out the Astro documentation at https://docs.astro.build
// Don't want to use any of this? Delete everything in this file, the `assets`, `components`, and `layouts` directories, and start fresh.

---

<Layout>
	<PageSection id="hero">
		<div class="absolute top-0 left-0 w-dvw h-dvh z-0">
			<MainBackdrop />
		</div>
		<div class="bg-[rgba(250, 250, 250, 0.5)] absolute w-full h-full flex items-center justify-evenly gap-4 z-10">
			

			<div data-display="baseDisplay" class="bg-[#fafafa40] hidden container relative rounded-lg border-border border-1 border-solid p-6 lg:p-10">
				Welcome!

				<div id="demos" class="w-full border-y p-2">
					<h6 class="w-full mb-1 text-2xl hover:underline font-bold ">Demos</h6>
					<div id="demoRow" class="w-full">
						<div id="demo-card" class="size-40 rounded flex flex-col items-center justify-center border-accent border p-1">
							Some content
						</div>
					</div>
				</div>
				<div class="overflow-hidden whitespace-nowrap">
					<h1 id="gradientText" class="text-4xl font-bold bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500 bg-clip-text text-transparent animate-gradient-move">
						Shimmering Gradient Text
					</h1>
				</div>
				<div id="projects" class="w-full border-y p-2">
					<h6 class="w-full mb-1 text-2xl">Projects</h6>
					<div id="projectsRow" class="w-full">
						<div id="projectCard-card" class="size-40 rounded flex flex-col items-center justify-center border-accent border p-1">
							Some content
						</div>
					</div>
				</div>
			</div>
		</div>
	</PageSection>
</Layout>
<script>
	//initialize gsap
	import gsap from "gsap";
	import scrambleTextBase from "../constants/scramble-text-base";
	import { ScrambleTextPlugin } from "gsap/all";
	gsap.registerPlugin(ScrambleTextPlugin) 

	//Screen Graphic Initialize
	const graphicContainer = document.getElementById("crt")

	//Scramble Controls
	const scramble1 = document.getElementById("scramble1");
	if (scramble1) {
		gsap.to(scramble1, {
			duration: 1.5,
			scrambleText: {
				text: "Where would you like to go?",
				speed: 3,
				chars: scrambleTextBase
			}
		})
	}

	const sectionTitle = document.getElementById("gradientText");
	if (sectionTitle) {
		gsap.to(sectionTitle, {
			duration: 1.5,
			scrambleText: {
				text: "Demos",
				speed: 3,
				chars: scrambleTextBase
			}
		})

		gsap.to("#animated-text", {
			backgroundPosition: "200% 50%",
			duration: 3,
			repeat: -1,
			yoyo: true,
			ease: "sine.inOut"
		});
	}


	const navButtons = document.getElementsByClassName("nav-button")
	for (let i = 0; i < navButtons.length; i++) {
		gsap.to(navButtons[i], {
			backgroundColor: "grey",
			duration: 0.2,
			yoyo: true,
			repeat: -1,
		})
		navButtons[i].addEventListener('mouseenter', () => {
			const name = navButtons[i].getAttribute('name')
		})
	}

</script>
