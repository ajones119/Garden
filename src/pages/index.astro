---
import Layout from '../layouts/Layout.astro';
import PageSection from "../layouts/PageSection.astro"
import MainBackdrop from "../components/Astro/MainBackdrop/index.astro"

let isMenuOpen = true;
---

<Layout>
	<PageSection id="hero">
		<div class="absolute top-0 left-0 w-dvw h-dvh z-0">
			<MainBackdrop />
		</div>
		<div id="menu" class="bg-[rgba(250, 250, 250, 0.5)] absolute w-full h-full flex flex-col items-center justify-center gap-4 z-10">
			
					<a href="/demos" class="surface p-3 border-border border bg-muted rounded-full hover:scale-105 transition-all">
						<h1 id="demoTitle" class="text-4xl font-bold bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500 bg-clip-text text-transparent animate-gradient-move hover:animate-pulse">
							Cool Demos
						</h1>
					</a>

					<a href="/projects" class="p-3 border-border border bg-muted rounded-full hover:scale-105 transition-all">
						<h1 id="projectsTitle" class="text-4xl font-bold bg-gradient-to-r from-pink-500 via-purple-500 to-red-500 bg-clip-text text-transparent animate-gradient-move hover:from-pink-500 hover:via-purple-500 hover:to-blue-500 cursor-pointer hover:animate-pulse">
							Projects
						</h1>
					</a>
					
				
			</div>
		</div>
	</PageSection>
</Layout>
<script>
	//initialize gsap
	import gsap from "gsap";
	import scrambleTextBase from "../constants/scramble-text-base";
	import { ScrambleTextPlugin } from "gsap/all";
	gsap.registerPlugin(ScrambleTextPlugin) 

	//Scramble Controls
	const scramble1 = document.getElementById("scramble1");
	if (scramble1) {
		gsap.to(scramble1, {
			duration: 1.5,
			scrambleText: {
				text: "Where would you like to go?",
				speed: 3,
				chars: scrambleTextBase
			}
		})
	}

	gsap.to("#demoTitle", {
		duration: 1.5,
		scrambleText: {
			text: "Demos",
			speed: 3,
			chars: scrambleTextBase
		}
	})

	gsap.to("#projectsTitle", {
		duration: 1.5,
		scrambleText: {
			text: "Projects",
			speed: 3,
			chars: scrambleTextBase
		}
	})
	
	const hideMenuButton = document.getElementById("hideMenu");
	const menu = document.getElementById("menu");
	if (hideMenuButton && menu) {
		hideMenuButton.addEventListener('click', (e) => {
			e.stopPropagation(); // prevent bubbling if needed
			menu.classList.add("hidden");
		});

		document.addEventListener("click", (e) => {
			menu.classList.remove("hidden")
		})
	}
</script>
